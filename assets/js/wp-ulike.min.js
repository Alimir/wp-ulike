/*! WP ULike - v4.5.9
 *  https://wpulike.com
 *  TechnoWich 2022;
 */
!function(t){t.fn.WordpressUlikeTooltip=function(e){if(this.length>1)return this.each((function(){t(this).WordpressUlikeTooltip(e)})),this;if(void 0===this||1!==this.length)return!1;const i=t(this);e=t.extend({},t.WordpressUlikeTooltip.defaults,e,i.data());let s=i.attr("title");void 0!==s&&s.length&&(e.title=s),e.class+=" ulf-"+e.theme+"-theme",e.class+=" ulf-"+e.size,e.trigger=e.trigger.toLowerCase().trim();let o={dom:this,dom_wrapped:i,position_debug:e.position_debug,trigger:e.trigger,id:e.id,title:e.title,content:e.title,child_class:e.child,theme:e.theme,class:e.class,position:e.position,close_on_outside_click:e.close_on_outside_click,singleton:e.singleton,dataAttr:"ulike-tooltip",createTooltipHTML:function(){return`<div class='ulf-tooltip ${o.class}' role='tooltip'><div class='ulf-arrow'></div><div class='ulf-content'>${o.content}</div></div>`},destroy:function(){const e=o.dom_wrapped.data(o.dataAttr);null!=e&&(e.dom_wrapped.off("touchstart mouseenter",e.show),e.dom_wrapped.off("click",e.preventDefaultHandler),t(window).off("resize",e.onResize),e.isVisible()&&e.hide(),e.dom_wrapped.data(e.dataAttr,null))},initialize:function(){return o.dom_wrapped.on("touchstart mouseenter",o.show),o.dom_wrapped.on("click",o.preventDefaultHandler),t.WordpressUlikeTooltip.body_click_initialized||(t(document).on("touchstart mousedown",o.onClickOutside),t.WordpressUlikeTooltip.bodyClickInitialized=!0),o.dom_wrapped.data(o.dataAttr,o),t(document).on("WordpressUlikeLikersMarkupUpdated",(function(t,e,i,s){if("popover"==i)if(s.length)o.show();else{let t=e.data(o.dataAttr);null!=t&&t.destroy()}})),o.dom},preventDefaultHandler:function(t){return t.preventDefault(),!1},show:function(e){if(o.isVisible())return!1;o.singleton&&o.hideAllVisible();const i=t("body");(void 0===e||e)&&"function"==typeof o.title&&(o.content=o.title(o.dom_wrapped,o)),i.append(o.createTooltipHTML()),o.tooltip=t(".ulf-tooltip:last"),o.positionTooltip(),t(window).on("resize",o.onResize);const s="ulp-dom-"+o.id;o.tooltip.attr("id",s),o.dom.attr("aria-describedby",s),t.WordpressUlikeTooltip.visible.push(o),(void 0===e||e)&&o.dom.trigger("ulf-show",[o.tooltip,o.hide]),t("body").on("DOMSubtreeModified",o.positionTooltip)},isVisible:function(){return t.inArray(o,t.WordpressUlikeTooltip.visible)>-1},hideAllVisible:function(){return t.each(t.WordpressUlikeTooltip.visible,(function(t,e){e.dom_wrapped.hasClass("ulf-focused")||e.hide()})),this},hide:function(e){t("body").off("DOMSubtreeModified",o.positionTooltip),t(window).off("resize",o.onResize),o.dom.attr("aria-describedby",null),o.tooltip&&o.tooltip.length&&o.tooltip.remove(),(void 0===e||e)&&o.dom.trigger("ulf-hide"),"click"!==o.trigger&&o.dom_wrapped.off("touchstart mousedown",o.hide);var i=t.inArray(o,t.WordpressUlikeTooltip.visible);return t.WordpressUlikeTooltip.visible.splice(i,1),o.dom},onResize:function(){o.hide(!1),o.show(!1)},onClickOutside:function(e){const i=t(e.target);i.hasClass("ulf-tooltip")||i.parents(".ulf-tooltip:first").length||t.each(t.WordpressUlikeTooltip.visible,(function(t,e){void 0!==e&&e.close_on_outside_click&&(i!==e.dom_wrapped||"focus"!==e.trigger&&"hoverfocus"!==e.trigger)&&e.hide()}))},positionTooltip:function(){o.positionDebug("-- Start positioning --"),o.dom_wrapped.length&&o.dom_wrapped.is(":visible")||(o.positionDebug("Elem no longer exists. Removing tooltip"),o.hide(!0));let t=o.tooltip.find(".ulf-arrow"),[e,i,s,n,l,a]=o.calculateSafePosition(o.position);return void 0===l&&"auto"!==o.position&&(o.positionDebug("Couldn't fit preferred position"),[e,i,s,n,l,a]=o.calculateSafePosition("auto")),void 0===l?(o.positionDebug("Doesn't appear to fit. Displaying centered"),o.tooltip.addClass("ulf-centered").css({top:"50%",left:"50%","margin-left":-s/2,"margin-top":-n/2}),t&&t.length&&t.remove(),void o.positionDebug("-- Done positioning --")):(o.positionDebug({"Setting Position":{Left:l,Top:a}}),o.tooltip.css("left",l),o.tooltip.css("top",a),i<60&&(o.positionDebug("Element is less than "+i+"px. Setting arrow to hug the side tighter"),e+=" ulf-arrow-super-hug"),t.addClass("ulf-arrow-"+e),o.positionDebug("-- Done positioning --"),o)},calculateSafePosition:function(t){let e,i,s,n=o.tooltip.find(".ulf-arrow"),l=o.dom_wrapped.offset(),a=o.dom_wrapped.outerHeight(),r=o.dom_wrapped.outerWidth(),d=o.tooltip.outerWidth(),p=o.tooltip.outerHeight(),u=document.querySelector("body").offsetWidth,h=document.querySelector("body").offsetHeight,g=n.is(":visible")?n.outerHeight():0,c=n.is(":visible")?n.outerWidth():0,m={};if(m.below=h-(p+a+l.top)>5,m.above=l.top-p>5,m.vertical_half=l.top+r/2-p/2>5,m.right=u-(d+r+l.left)>5,m.right_half=u-l.left-r/2-d/2>5,m.right_full=u-l.left-d>5,m.left=l.left-d>5,m.left_half=l.left+r/2-d/2>5,m.left_full=l.left-d>5,o.positionDebug({"Clicked Element":{Left:l.left,Top:l.top}}),o.positionDebug({"Element Dimensions":{Height:a,Width:r},"Tooltip Dimensions":{Height:p,Width:d},"Window Dimensions":{Height:h,Width:u},"Arrow Dimensions":{Height:g,Width:c}}),o.positionDebug(m),("auto"===t||"bottom"===t)&&m.below&&m.left_half&&m.right_half)o.positionDebug("Displaying below, centered"),e="top",i=l.left-d/2+r/2,s=l.top+a+g/2;else if(("auto"===t||"top"===t)&&m.above&&m.left_half&&m.right_half){if(o.positionDebug("Displaying above, centered"),e="bottom",o.child_class){let t=o.dom_wrapped.find(o.child_class).first();i=t.offset().left-d/2+t.width()/2}else i=l.left-d/2+r/2;s=l.top-p-g/2}else("auto"===t||"left"===t)&&m.left&&m.vertical_half?(o.positionDebug("Displaying left, centered"),e="right",i=l.left-d-c/2,s=l.top+a/2-p/2):("auto"===t||"right"===t)&&m.right&&m.vertical_half?(o.positionDebug("Displaying right, centered"),e="left",i=l.left+r+c/2,s=l.top+a/2-p/2):("auto"===t||"bottom"===t)&&m.below&&m.right_full?(o.positionDebug("Displaying below, to the right"),e="top ulf-arrow-hug-left",i=l.left,s=l.top+a+g/2):("auto"===t||"bottom"===t)&&m.below&&m.left_full?(o.positionDebug("Displaying below, to the left"),e="top ulf-arrow-hug-right",i=l.left+r-d,s=l.top+a+g/2):("auto"===t||"top"===t)&&m.above&&m.right_full?(o.positionDebug("Displaying above, to the right"),e="bottom ulf-arrow-hug-left",i=l.left,s=l.top-p-g/2):("auto"===t||"top"===t)&&m.above&&m.left_full&&(o.positionDebug("Displaying above, to the left"),e="bottom ulf-arrow-hug-right",i=l.left+r-d,s=l.top-p-g/2);return[e,r,d,p,i,s]},positionDebug:function(t){return!!o.position_debug&&("object"==typeof t?console.table(t):console.log(`Position: ${t}`))}};return o.destroy(),o.initialize()},t.WordpressUlikeTooltip={},t.WordpressUlikeTooltip.visible=[],t.WordpressUlikeTooltip.body_click_initialized=!1,t.WordpressUlikeTooltip.defaults={id:Date.now(),title:"",trigger:"hoverfocus",position:"auto",class:"",theme:"black",size:"small",singleton:!0,close_on_outside_click:!0}}(jQuery),function(t,e,i,s){"use strict";var o="WordpressUlikeNotifications",n={messageType:"success",messageText:"Hello World!",timeout:8e3,messageElement:"wpulike-message",notifContainer:"wpulike-notification"};function l(e,i){this.element=e,this.$element=t(e),this.settings=t.extend({},n,i),this._defaults=n,this._name=o,this.init()}t.extend(l.prototype,{init:function(){this._message(),this._container(),this._append(),this._remove()},_message:function(){this.$messageElement=t("<div/>").addClass(this.settings.messageElement+" wpulike-"+this.settings.messageType).text(this.settings.messageText)},_container:function(){t("."+this.settings.notifContainer).length||this.$element.append(t("<div/>").addClass(this.settings.notifContainer)),this.$notifContainer=this.$element.find("."+this.settings.notifContainer)},_append:function(){this.$notifContainer.append(this.$messageElement).trigger("WordpressUlikeNotificationAppend")},_remove:function(){var e=this;this.$messageElement.on("click",(function(){t(this).fadeOut(300,(function(){t(this).remove(),t("."+e.settings.messageElement).length||e.$notifContainer.remove()})).trigger("WordpressUlikeRemoveNotification")})),e.settings.timeout&&setTimeout((function(){e.$messageElement.fadeOut(300,(function(){t(this).remove(),t("."+e.settings.messageElement).length||e.$notifContainer.remove()})).trigger("WordpressUlikeRemoveNotification")}),e.settings.timeout)}}),t.fn[o]=function(t){return this.each((function(){new l(this,t)}))}}(jQuery,window,document),function(t,e,i,s){"use strict";var o="WordpressUlike",n=(t(e),t(i)),l={ID:0,nonce:0,type:"",append:"",appendTimeout:2e3,displayLikers:!1,likersTemplate:"default",disablePophover:!0,isTotal:!1,factor:"",template:"",counterSelector:".count-box",generalSelector:".wp_ulike_general_class",buttonSelector:".wp_ulike_btn",likersSelector:".wp_ulike_likers_wrapper"},a={"ulike-id":"ID","ulike-nonce":"nonce","ulike-type":"type","ulike-append":"append","ulike-is-total":"isTotal","ulike-display-likers":"displayLikers","ulike-likers-style":"likersTemplate","ulike-disable-pophover":"disablePophover","ulike-append-timeout":"appendTimeout","ulike-factor":"factor","ulike-template":"template"};function r(e,i){for(var s in this.element=e,this.$element=t(e),this.settings=t.extend({},l,i),this._defaults=l,this._name=o,this.buttonElement=this.$element.find(this.settings.buttonSelector),a){var n=this.buttonElement.data(s);undefined!==n&&(this.settings[a[s]]=n)}this.generalElement=this.$element.find(this.settings.generalSelector),this.counterElement=this.generalElement.find(this.settings.counterSelector),this.counterElement.length&&this.counterElement.each(function(e,i){void 0!==t(i).data("ulike-counter-value")&&t(i).html(t(i).data("ulike-counter-value"))}.bind(this)),this.likersElement=this.$element.find(this.settings.likersSelector),this.init()}t.extend(r.prototype,{init:function(){this.buttonElement.on("click",this._initLike.bind(this)),this.generalElement.one("mouseenter",this._updateLikers.bind(this))},_ajax:function(e,i){t.ajax({url:wp_ulike_params.ajax_url,type:"POST",dataType:"json",data:e}).done(i)},_initLike:function(t){t.stopPropagation(),this._maybeUpdateElements(t),this._updateSameButtons(),this._updateSameLikers(),this.buttonElement.prop("disabled",!0),n.trigger("WordpressUlikeLoading",this.element),this.generalElement.addClass("wp_ulike_is_loading"),this._ajax({action:"wp_ulike_process",id:this.settings.ID,nonce:this.settings.nonce,factor:this.settings.factor,type:this.settings.type,template:this.settings.template,displayLikers:this.settings.displayLikers,likersTemplate:this.settings.likersTemplate},function(t){this.generalElement.removeClass("wp_ulike_is_loading"),t.success?(this._updateMarkup(t),this._appendChild()):t.data.hasToast&&this._sendNotification("error",t.data.message),this.buttonElement.prop("disabled",!1),n.trigger("WordpressUlikeUpdated",this.element)}.bind(this))},_maybeUpdateElements:function(e){this.buttonElement=t(e.currentTarget),this.generalElement=this.buttonElement.closest(this.settings.generalSelector),this.counterElement=this.generalElement.find(this.settings.counterSelector),this.settings.factor=this.buttonElement.data("ulike-factor")},_appendChild:function(){if(""!==this.settings.append){var e=t(this.settings.append);this.buttonElement.append(e),this.settings.appendTimeout&&setTimeout((function(){e.detach()}),this.settings.appendTimeout)}},_updateMarkup:function(t){this._setSbilingElement(),this._setSbilingButtons(),this._updateGeneralClassNames(t.data.status),null!==t.data.data&&(5!=t.data.status&&(this.__updateCounter(t.data.data),this.settings.displayLikers&&void 0!==t.data.likers&&this._updateLikersMarkup(t.data.likers)),this._updateButton(t.data.btnText,t.data.status)),t.data.hasToast&&this._sendNotification(t.data.messageType,t.data.message)},_updateGeneralClassNames:function(t){var e="wp_ulike_is_not_liked",i="wp_ulike_is_liked",s="wp_ulike_is_unliked",o="wp_ulike_click_is_disabled";switch(this.siblingElement.length&&this.siblingElement.removeClass(this._arrayToString([i,s])),t){case 1:this.generalElement.addClass(i).removeClass(e),this.generalElement.children().first().addClass(o);break;case 2:this.generalElement.addClass(s).removeClass(i);break;case 3:this.generalElement.addClass(i).removeClass(s);break;case 0:case 5:this.generalElement.addClass(o),this.siblingElement.length&&this.siblingElement.addClass(o)}},_arrayToString:function(t){return t.join(" ")},_setSbilingElement:function(){this.siblingElement=this.generalElement.siblings()},_setSbilingButtons:function(){this.siblingButton=this.buttonElement.siblings(this.settings.buttonSelector)},__updateCounter:function(t){this.counterElement.attr("data-ulike-counter-value",t).html(t),n.trigger("WordpressUlikeCounterUpdated",[this.buttonElement])},_updateLikers:function(t){if(this.settings.displayLikers){if("popover"==this.settings.likersTemplate&&this.$element.data("ulike-tooltip"))return;if("default"==this.settings.likersTemplate&&this.likersElement.length)return;return this.generalElement.addClass("wp_ulike_is_getting_likers_list"),this._ajax({action:"wp_ulike_get_likers",id:this.settings.ID,nonce:this.settings.nonce,type:this.settings.type,displayLikers:this.settings.displayLikers,likersTemplate:this.settings.likersTemplate},function(t){this.generalElement.removeClass("wp_ulike_is_getting_likers_list"),t.success&&this._updateLikersMarkup(t.data)}.bind(this)),t.stopImmediatePropagation(),!1}},_updateLikersMarkup:function(e){"popover"==this.settings.likersTemplate?(this.likersElement=this.$element,e.template&&this.likersElement.WordpressUlikeTooltip({id:this.settings.type.toLowerCase()+"-"+this.settings.ID,title:e.template,position:"top",child:this.settings.generalSelector,theme:"white",size:"tiny",trigger:"hover"})):(this.likersElement.length||(this.likersElement=t(e.template).appendTo(this.$element)),e.template?this.likersElement.show().html(e.template):this.likersElement.hide().empty()),n.trigger("WordpressUlikeLikersMarkupUpdated",[this.likersElement,this.settings.likersTemplate,e.template])},_updateSameButtons:function(){var t=void 0!==this.settings.factor?"_"+this.settings.factor:"";this.sameButtons=n.find(".wp_"+this.settings.type.toLowerCase()+t+"_btn_"+this.settings.ID),this.sameButtons.length>1&&(this.buttonElement=this.sameButtons,this.generalElement=this.buttonElement.closest(this.settings.generalSelector),this.counterElement=this.generalElement.find(this.settings.counterSelector))},_updateSameLikers:function(){this.sameLikers=n.find(".wp_"+this.settings.type.toLowerCase()+"_likers_"+this.settings.ID),this.sameLikers.length>1&&(this.likersElement=this.sameLikers)},_getLikersElement:function(){return this.likersElement},_updateButton:function(t,e){this.buttonElement.hasClass("wp_ulike_put_image")?(4==e?this.buttonElement.addClass("image-unlike wp_ulike_btn_is_active"):this.buttonElement.toggleClass("image-unlike wp_ulike_btn_is_active"),this.siblingElement.length&&this.siblingElement.find(this.settings.buttonSelector).removeClass("image-unlike wp_ulike_btn_is_active"),this.siblingButton.length&&this.siblingButton.removeClass("image-unlike wp_ulike_btn_is_active")):this.buttonElement.hasClass("wp_ulike_put_text")&&null!==t&&this.buttonElement.find("span").html(t)},_sendNotification:function(e,s){t(i.body).WordpressUlikeNotifications({messageType:e,messageText:s})}}),t.fn[o]=function(e){return this.each((function(){t.data(this,"plugin_"+o)||t.data(this,"plugin_"+o,new r(this,e))}))}}(jQuery,window,document),function(t){var e,i,s;t(".wpulike").WordpressUlike(),e=".wpulike",i=function(e){t(e).WordpressUlike()},s=t("body")[0],new(window.MutationObserver||window.WebKitMutationObserver)((function(s){s.forEach((function(s){if(s.addedNodes.length)for(var o=t(s.addedNodes).find(e),n=0,l=o.length;n<l;n++)i(o[n])}))})).observe(s,{childList:!0,subtree:!0})}(jQuery);