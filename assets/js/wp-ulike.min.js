/**
 * WP ULike 2.8
 * @author Alimir [https://wordpress.org/plugins/wp-ulike/]
 */

!function(e){e(["jquery"],function(e){return function(){function t(t,s){return t||(t=r()),(c=e("#"+t.containerId)).length?c:(s&&(c=n(t)),c)}function s(t){for(var s=c.children(),n=s.length-1;n>=0;n--)i(e(s[n]),t)}function i(t,s,i){var n=!(!i||!i.force)&&i.force;return!(!t||!n&&0!==e(":focus",t).length)&&(t[s.hideMethod]({duration:s.hideDuration,easing:s.hideEasing,complete:function(){u(t)}}),!0)}function n(t){return(c=e("<div/>").attr("id",t.containerId).addClass(t.positionClass)).appendTo(e(t.target)),c}function o(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function a(e){d&&d(e)}function l(s){function i(e){return null==e&&(e=""),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function n(){var e="";switch(s.iconClass){case"toast-success":case"toast-info":e="polite";break;default:e="assertive"}x.attr("aria-live",e)}function o(){s.iconClass&&x.addClass(C.toastClass).addClass(E)}function l(){C.newestOnTop?c.prepend(x):c.append(x)}function d(){if(s.title){var e=s.title;C.escapeHtml&&(e=i(s.title)),O.append(e).addClass(C.titleClass),x.append(O)}}function g(){if(s.message){var e=s.message;C.escapeHtml&&(e=i(s.message)),y.append(e).addClass(C.messageClass),x.append(y)}}function m(){C.closeButton&&(j.addClass(C.closeClass).attr("role","button"),x.prepend(j))}function f(){C.progressBar&&(D.addClass(C.progressClass),x.prepend(D))}function _(){C.rtl&&x.addClass("rtl")}function k(t){var s=t&&!1!==C.closeMethod?C.closeMethod:C.hideMethod,i=t&&!1!==C.closeDuration?C.closeDuration:C.hideDuration,n=t&&!1!==C.closeEasing?C.closeEasing:C.hideEasing;if(!e(":focus",x).length||t)return clearTimeout(H.intervalId),x[s]({duration:i,easing:n,complete:function(){u(x),clearTimeout(T),C.onHidden&&"hidden"!==S.state&&C.onHidden(),S.state="hidden",S.endTime=new Date,a(S)}})}function b(){(C.timeOut>0||C.extendedTimeOut>0)&&(T=setTimeout(k,C.extendedTimeOut),H.maxHideTime=parseFloat(C.extendedTimeOut),H.hideEta=(new Date).getTime()+H.maxHideTime)}function v(){clearTimeout(T),H.hideEta=0,x.stop(!0,!0)[C.showMethod]({duration:C.showDuration,easing:C.showEasing})}function w(){var e=(H.hideEta-(new Date).getTime())/H.maxHideTime*100;D.width(e+"%")}var C=r(),E=s.iconClass||C.iconClass;if(void 0!==s.optionsOverride&&(C=e.extend(C,s.optionsOverride),E=s.optionsOverride.iconClass||E),!function(e,t){if(e.preventDuplicates){if(t.message===h)return!0;h=t.message}return!1}(C,s)){p++,c=t(C,!0);var T=null,x=e("<div/>"),O=e("<div/>"),y=e("<div/>"),D=e("<div/>"),j=e(C.closeHtml),H={intervalId:null,hideEta:null,maxHideTime:null},S={toastId:p,state:"visible",startTime:new Date,options:C,map:s};return o(),d(),g(),m(),f(),_(),l(),n(),x.hide(),x[C.showMethod]({duration:C.showDuration,easing:C.showEasing,complete:C.onShown}),C.timeOut>0&&(T=setTimeout(k,C.timeOut),H.maxHideTime=parseFloat(C.timeOut),H.hideEta=(new Date).getTime()+H.maxHideTime,C.progressBar&&(H.intervalId=setInterval(w,10))),C.closeOnHover&&x.hover(v,b),!C.onclick&&C.tapToDismiss&&x.click(k),C.closeButton&&j&&j.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&!0!==e.cancelBubble&&(e.cancelBubble=!0),C.onCloseClick&&C.onCloseClick(e),k(!0)}),C.onclick&&x.click(function(e){C.onclick(e),k()}),a(S),C.debug&&console&&console.log(S),x}}function r(){return e.extend({},o(),m.options)}function u(e){c||(c=t()),e.is(":visible")||(e.remove(),e=null,0===c.children().length&&(c.remove(),h=void 0))}var c,d,h,p=0,g={error:"error",info:"info",success:"success",warning:"warning"},m={clear:function(e,n){var o=r();c||t(o),i(e,o,n)||s(o)},remove:function(s){var i=r();c||t(i),s&&0===e(":focus",s).length?u(s):c.children().length&&c.remove()},error:function(e,t,s){return l({type:g.error,iconClass:r().iconClasses.error,message:e,optionsOverride:s,title:t})},getContainer:t,info:function(e,t,s){return l({type:g.info,iconClass:r().iconClasses.info,message:e,optionsOverride:s,title:t})},options:{},subscribe:function(e){d=e},success:function(e,t,s){return l({type:g.success,iconClass:r().iconClasses.success,message:e,optionsOverride:s,title:t})},version:"2.1.3",warning:function(e,t,s){return l({type:g.warning,iconClass:r().iconClasses.warning,message:e,optionsOverride:s,title:t})}};return m}()})}("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)}),function(e,t,s,i){"use strict";function n(t,s){this.element=t,this.$element=e(t),this.settings=e.extend({},a,s),this._defaults=a,this._name=o,this.buttonElement=this.$element.find(this.settings.buttonSelector),this.generalElement=this.$element.find(this.settings.generalSelector),this.counterElement=this.generalElement.find(this.settings.counterSelector);for(var n in l){var r=this.buttonElement.data(n);r!==i&&(this.settings[l[n]]=r)}this.init()}var o="WordpressUlike",a=(e(t),{ID:0,type:"",likeStatus:0,counterSelector:ulike_obj.counter_selector,generalSelector:ulike_obj.general_selector,buttonSelector:ulike_obj.button_selector}),l={"ulike-id":"ID","ulike-type":"type","ulike-status":"likeStatus"};e.extend(n.prototype,{init:function(){this.buttonElement.click(this._ajaxify.bind(this))},_ajaxify:function(){e.ajax({type:"POST",cache:!1,dataType:"json",url:ulike_obj.ajaxurl,data:{action:"wp_ulike_process",id:this.settings.ID,status:this.settings.likeStatus,type:this.settings.type},beforeSend:function(){this.generalElement.addClass("wp_ulike_is_loading")}.bind(this),success:function(e){this._update(e)}.bind(this)})},_update:function(e){switch(this.generalElement.removeClass("wp_ulike_is_loading"),this.settings.likeStatus){case 1:this.buttonElement.attr("data-ulike-status",4),this.settings.likeStatus=4,this.generalElement.addClass("wp_ulike_is_liked").removeClass("wp_ulike_is_not_liked"),this.generalElement.children().first().addClass("wp_ulike_click_is_disabled"),this.counterElement.text(e.data),this._actions("success",e.message,e.btnText,4);break;case 2:this.buttonElement.attr("data-ulike-status",3),this.settings.likeStatus=3,this.generalElement.addClass("wp_ulike_is_unliked").removeClass("wp_ulike_is_liked"),this.counterElement.text(e.data),this._actions("error",e.message,e.btnText,3);break;case 3:this.buttonElement.attr("data-ulike-status",2),this.settings.likeStatus=2,this.generalElement.addClass("wp_ulike_is_liked").removeClass("wp_ulike_is_unliked"),this.counterElement.text(e.data),this._actions("success",e.message,e.btnText,2);break;case 4:this._actions("info",e.message,e.btnText,4),this.generalElement.children().first().addClass("wp_ulike_click_is_disabled");break;default:this._actions("warning",e.message,e.btnText,0)}},_actions:function(e,t,s,i){"image"===ulike_obj.button_type?3!==i&&2!==i||this.buttonElement.toggleClass("image-unlike"):"text"===ulike_obj.button_type&&this.buttonElement.find("span").text(s),"1"===ulike_obj.notifications&&(toastr.options={closeButton:!1,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-bottom-right",preventDuplicates:!1,showDuration:300,hideDuration:2e3,timeOut:5e3,extendedTimeOut:1e3,showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},toastr[e](t))}}),e.fn[o]=function(t){return this.each(function(){e.data(this,"plugin_"+o)||e.data(this,"plugin_"+o,new n(this,t))})}}(jQuery,window,document),jQuery(function(e){e(".wpulike").WordpressUlike(),e("p").filter(function(){return""==this.innerHTML}).remove()});