!function(e){e(["jquery"],function(e){return function(){function t(t,s){return t||(t=l()),(c=e("#"+t.containerId)).length?c:(s&&(c=n(t)),c)}function s(t){for(var s=c.children(),n=s.length-1;n>=0;n--)i(e(s[n]),t)}function i(t,s,i){var n=!(!i||!i.force)&&i.force;return!(!t||!n&&0!==e(":focus",t).length)&&(t[s.hideMethod]({duration:s.hideDuration,easing:s.hideEasing,complete:function(){u(t)}}),!0)}function n(t){return(c=e("<div/>").attr("id",t.containerId).addClass(t.positionClass)).appendTo(e(t.target)),c}function o(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function a(e){d&&d(e)}function r(s){function i(e){return null==e&&(e=""),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function n(){var e="";switch(s.iconClass){case"toast-success":case"toast-info":e="polite";break;default:e="assertive"}x.attr("aria-live",e)}function o(){s.iconClass&&x.addClass(b.toastClass).addClass(E)}function r(){b.newestOnTop?c.prepend(x):c.append(x)}function d(){if(s.title){var e=s.title;b.escapeHtml&&(e=i(s.title)),O.append(e).addClass(b.titleClass),x.append(O)}}function g(){if(s.message){var e=s.message;b.escapeHtml&&(e=i(s.message)),y.append(e).addClass(b.messageClass),x.append(y)}}function m(){b.closeButton&&(H.addClass(b.closeClass).attr("role","button"),x.prepend(H))}function f(){b.progressBar&&(D.addClass(b.progressClass),x.prepend(D))}function _(){b.rtl&&x.addClass("rtl")}function w(t){var s=t&&!1!==b.closeMethod?b.closeMethod:b.hideMethod,i=t&&!1!==b.closeDuration?b.closeDuration:b.hideDuration,n=t&&!1!==b.closeEasing?b.closeEasing:b.hideEasing;if(!e(":focus",x).length||t)return clearTimeout(S.intervalId),x[s]({duration:i,easing:n,complete:function(){u(x),clearTimeout(T),b.onHidden&&"hidden"!==I.state&&b.onHidden(),I.state="hidden",I.endTime=new Date,a(I)}})}function k(){(b.timeOut>0||b.extendedTimeOut>0)&&(T=setTimeout(w,b.extendedTimeOut),S.maxHideTime=parseFloat(b.extendedTimeOut),S.hideEta=(new Date).getTime()+S.maxHideTime)}function v(){clearTimeout(T),S.hideEta=0,x.stop(!0,!0)[b.showMethod]({duration:b.showDuration,easing:b.showEasing})}function C(){var e=(S.hideEta-(new Date).getTime())/S.maxHideTime*100;D.width(e+"%")}var b=l(),E=s.iconClass||b.iconClass;if(void 0!==s.optionsOverride&&(b=e.extend(b,s.optionsOverride),E=s.optionsOverride.iconClass||E),!function(e,t){if(e.preventDuplicates){if(t.message===p)return!0;p=t.message}return!1}(b,s)){h++,c=t(b,!0);var T=null,x=e("<div/>"),O=e("<div/>"),y=e("<div/>"),D=e("<div/>"),H=e(b.closeHtml),S={intervalId:null,hideEta:null,maxHideTime:null},I={toastId:h,state:"visible",startTime:new Date,options:b,map:s};return o(),d(),g(),m(),f(),_(),r(),n(),x.hide(),x[b.showMethod]({duration:b.showDuration,easing:b.showEasing,complete:b.onShown}),b.timeOut>0&&(T=setTimeout(w,b.timeOut),S.maxHideTime=parseFloat(b.timeOut),S.hideEta=(new Date).getTime()+S.maxHideTime,b.progressBar&&(S.intervalId=setInterval(C,10))),b.closeOnHover&&x.hover(v,k),!b.onclick&&b.tapToDismiss&&x.click(w),b.closeButton&&H&&H.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&!0!==e.cancelBubble&&(e.cancelBubble=!0),b.onCloseClick&&b.onCloseClick(e),w(!0)}),b.onclick&&x.click(function(e){b.onclick(e),w()}),a(I),b.debug&&console&&console.log(I),x}}function l(){return e.extend({},o(),m.options)}function u(e){c||(c=t()),e.is(":visible")||(e.remove(),e=null,0===c.children().length&&(c.remove(),p=void 0))}var c,d,p,h=0,g={error:"error",info:"info",success:"success",warning:"warning"},m={clear:function(e,n){var o=l();c||t(o),i(e,o,n)||s(o)},remove:function(s){var i=l();c||t(i),s&&0===e(":focus",s).length?u(s):c.children().length&&c.remove()},error:function(e,t,s){return r({type:g.error,iconClass:l().iconClasses.error,message:e,optionsOverride:s,title:t})},getContainer:t,info:function(e,t,s){return r({type:g.info,iconClass:l().iconClasses.info,message:e,optionsOverride:s,title:t})},options:{},subscribe:function(e){d=e},success:function(e,t,s){return r({type:g.success,iconClass:l().iconClasses.success,message:e,optionsOverride:s,title:t})},version:"2.1.3",warning:function(e,t,s){return r({type:g.warning,iconClass:l().iconClasses.warning,message:e,optionsOverride:s,title:t})}};return m}()})}("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)}),function(e,t,s,i){"use strict";function n(t,s){this.element=t,this.$element=e(t),this.settings=e.extend({},r,s),this._defaults=r,this._name=o,this.buttonElement=this.$element.find(this.settings.buttonSelector),this.generalElement=this.$element.find(this.settings.generalSelector),this.counterElement=this.generalElement.find(this.settings.counterSelector);for(var n in l){var a=this.buttonElement.data(n);a!==i&&(this.settings[l[n]]=a)}this.init()}var o="WordpressUlike",a=(e(t),e(s)),r={ID:0,nonce:0,type:"",likeStatus:0,counterSelector:wp_ulike_params.counter_selector,generalSelector:wp_ulike_params.general_selector,buttonSelector:wp_ulike_params.button_selector},l={"ulike-id":"ID","ulike-nonce":"nonce","ulike-type":"type","ulike-status":"likeStatus"};e.extend(n.prototype,{init:function(){this.buttonElement.click(this._ajaxify.bind(this))},_ajaxify:function(){e.ajax({type:"POST",cache:!1,dataType:"json",url:wp_ulike_params.ajax_url,data:{action:"wp_ulike_process",id:this.settings.ID,nonce:this.settings.nonce,status:this.settings.likeStatus,type:this.settings.type},beforeSend:function(){a.trigger("WordpressUlikeLoading"),this.generalElement.addClass("wp_ulike_is_loading")}.bind(this),success:function(e){this._update(e),a.trigger("WordpressUlikeUpdated")}.bind(this)})},_update:function(e){switch(this.generalElement.removeClass("wp_ulike_is_loading"),this.settings.likeStatus){case 1:this.buttonElement.attr("data-ulike-status",4),this.settings.likeStatus=4,this.generalElement.addClass("wp_ulike_is_liked").removeClass("wp_ulike_is_not_liked"),this.generalElement.children().first().addClass("wp_ulike_click_is_disabled"),this.counterElement.text(e.data),this._actions("success",e.message,e.btnText,4);break;case 2:this.buttonElement.attr("data-ulike-status",3),this.settings.likeStatus=3,this.generalElement.addClass("wp_ulike_is_unliked").removeClass("wp_ulike_is_liked"),this.counterElement.text(e.data),this._actions("error",e.message,e.btnText,3);break;case 3:this.buttonElement.attr("data-ulike-status",2),this.settings.likeStatus=2,this.generalElement.addClass("wp_ulike_is_liked").removeClass("wp_ulike_is_unliked"),this.counterElement.text(e.data),this._actions("success",e.message,e.btnText,2);break;case 4:this._actions("info",e.message,e.btnText,4),this.generalElement.children().first().addClass("wp_ulike_click_is_disabled");break;default:this._actions("warning",e.message,e.btnText,0)}},_actions:function(e,t,s,i){"image"===wp_ulike_params.button_type?3!==i&&2!==i||this.buttonElement.toggleClass("image-unlike"):"text"===wp_ulike_params.button_type&&this.buttonElement.find("span").html(s),"1"===wp_ulike_params.notifications&&(toastr.options={closeButton:!1,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-bottom-right",preventDuplicates:!1,showDuration:300,hideDuration:2e3,timeOut:5e3,extendedTimeOut:1e3,showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},toastr[e](t))}}),e.fn[o]=function(t){return this.each(function(){e.data(this,"plugin_"+o)||e.data(this,"plugin_"+o,new n(this,t))})}}(jQuery,window,document),function(e){e(function(){e(this).bind("DOMNodeInserted",function(t){e(".wpulike").WordpressUlike()})}),e(".wpulike").WordpressUlike(),e("p").filter(function(){return""==this.innerHTML}).remove()}(jQuery);